import { PageStepperProps } from "../types/components.types";
import * as React from "react";

export const PageStepper = ({
  totalPages = 1,
  currPage,
  setCurrPage,
  Typography = ({ children }) => <code>{children}</code>,
  Button,
  Container = ({ children }) => (
    <nav
      style={{
        display: "flex",
        alignItems: "center",
        gap: "1rem",
        padding: "1rem 0",
      }}
    >
      {children}
    </nav>
  ),
}: PageStepperProps) => {
  const isPreviousDisabled = currPage === 1;
  const isNextDisabled = currPage === totalPages;

  const handlePreviousClick = () => {
    if (currPage === 1) return;
    setCurrPage((prev) => prev - 1);
  };

  const handleNextClick = () => {
    if (currPage === totalPages) return;
    setCurrPage((prev) => prev + 1);
  };

  return (
    <Container>
      <>
        <Button disabled={isPreviousDisabled} onClick={handlePreviousClick}>
          Previous
        </Button>
        <Typography>
          {currPage} of {totalPages}
        </Typography>
        <Button disabled={isNextDisabled} onClick={handleNextClick}>
          Next
        </Button>
      </>
    </Container>
  );
};
